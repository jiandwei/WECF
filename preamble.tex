% ==============================================================================
%                                   PACKAGES
% ==============================================================================

% -------------------- Page Layout & Typography --------------------
\usepackage[margin=2cm]{geometry} % Page margins
\usepackage{setspace}             % Line spacing
\onehalfspacing                   % Set 1.5 line spacing

% -------------------- Fonts & Encoding --------------------
\usepackage{fontspec}             % LuaLaTeX font support
\setmainfont{Times New Roman}     % Main document font

% -------------------- Mathematics --------------------
\usepackage{amsmath,amsfonts,amssymb,amsthm} % Core math packages
\usepackage{mathtools}                       % Mathematical tools

% -------------------- Algorithms --------------------
\usepackage{algorithm}
\usepackage{algorithmicx}
\usepackage{algpseudocode}

% -------------------- Graphics & Tables --------------------
\usepackage{graphicx}    % Image support
\usepackage{float}       % Float positioning
\usepackage{caption}     % Caption customization
\usepackage{subcaption}  % Subfigures
\usepackage{booktabs}    % Professional tables
\usepackage{multirow}    % Multi-row cells
\usepackage{array}       % Extended array options

% -------------------- Utilities --------------------
\usepackage{xcolor}                     % Color support
\usepackage[colorinlistoftodos]{todonotes} % Todo notes

% -------------------- Bibliography --------------------
\usepackage[style=science,backend=biber,sorting=nyt]{biblatex}
\addbibresource{references/references.bib}

% -------------------- Hyperlinks & References --------------------
\usepackage[colorlinks=true,
    linkcolor=blue,
    citecolor=green,
    urlcolor=red]{hyperref}

\usepackage[nameinlink]{cleveref} % Intelligent cross-referencing

% ==============================================================================
%                               CONFIGURATION
% ==============================================================================

% -------------------- Cleveref Settings --------------------
\crefname{theorem}{Theorem}{Theorems}
\Crefname{theorem}{Theorem}{Theorems}
\crefname{lemma}{Lemma}{Lemmas}
\Crefname{lemma}{Lemma}{Lemmas}
\crefname{proposition}{Proposition}{Propositions}
\crefname{corollary}{Corollary}{Corollaries}
\crefname{definition}{Definition}{Definitions}
\crefname{assumption}{Assumption}{Assumptions}
\crefname{remark}{Remark}{Remarks}
\crefname{example}{Example}{Examples}

% -------------------- Theorem Environments --------------------
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}{Lemma}[subsection]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{assumption}[theorem]{Assumption}

\theoremstyle{remark}
\newtheorem{remark}{Remark}
\newtheorem{example}[theorem]{Example}

% -------------------- Custom Commands (Todo Notes) --------------------
% Red - Unsure: Uncertainty or doubt
\newcommand{\unsure}[1]{%
\todo[inline, linecolor=red, backgroundcolor=red!20, bordercolor=red]{%
\textbf{? [Unsure]} #1%
}%
}

% Blue - Change: Modification required
\newcommand{\change}[1]{%
    \todo[inline, linecolor=blue, backgroundcolor=blue!20, bordercolor=blue]{%
        \textbf{$\Delta$ [Change]} #1%
    }%
}

% Green - Info: Information or note
\newcommand{\info}[1]{%
    \todo[inline, linecolor=green, backgroundcolor=green!20, bordercolor=green]{%
        \textbf{i [Info]} #1%
    }%
}

% Orange - Suggestion: Improvement proposal
\newcommand{\improvement}[1]{%
    \todo[inline, linecolor=orange, backgroundcolor=orange!20, bordercolor=orange]{%
        \textbf{$\star$ [Suggestion]} #1%
    }%
}

% Purple - Question: Query for authors
\newcommand{\question}[1]{%
\todo[inline, linecolor=purple, backgroundcolor=purple!20, bordercolor=purple]{%
\textbf{? [Question]} #1%
}%
}

% Gray - Done: Completed task
\newcommand{\done}[1]{%
    \todo[inline, linecolor=gray, backgroundcolor=gray!20, bordercolor=gray]{%
        \textbf{$\checkmark$ [Done]} #1%
    }%
}
